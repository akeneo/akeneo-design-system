import {useState} from 'react';
import styled from 'styled-components';
import {Meta, Story, ArgsTable, Canvas} from '@storybook/addon-docs';
import {action} from '@storybook/addon-actions';
import {Card, CardGrid} from './Card.tsx';
import {Badge, Link} from '../../components';
import {getStaticImage} from '../../storybook/util';

<Meta
  title="Components/Card"
  component={Card}
  args={{src: getStaticImage('akeneo_200_140.jpg'), children: 'Card text'}}
/>

# Card

## Usage

Cards are used to have a good visual representation of the items to display. Cards can be used in a grid or in a collection.
_Example: Assets manager or Connections._

Cards should be displayed in a grid, therefore, a `CardGrid` component is also available with a convenient `size` prop. Possible values for the `size` prop are: `normal` or `big`.

## Playground

<Canvas>
  <Story name="Standard">
    {args => {
      return (
        <CardGrid>
          <Card {...args} />
        </CardGrid>
      );
    }}
  </Story>
</Canvas>

<ArgsTable story="Standard" />

## Selectable

<Canvas>
  <Story name="Selectable">
    {args => {
      const [firstSelected, setFirstSelected] = useState(false);
      const [secondSelected, setSecondSelected] = useState(false);
      return (
        <CardGrid>
          <Card
            {...args}
            src={getStaticImage('akened_200.jpg')}
            isSelected={firstSelected}
            onSelect={isSelected => setFirstSelected(isSelected)}
          >
            Selectable card
          </Card>
          <Card
            {...args}
            src={getStaticImage('akenee_200.jpg')}
            isSelected={secondSelected}
            onSelect={isSelected => setSecondSelected(isSelected)}
          >
            Another one
          </Card>
        </CardGrid>
      );
    }}
  </Story>
</Canvas>

## With Badges

<Canvas>
  <Story name="With Badges">
    {args => {
      return (
        <CardGrid>
          <Card {...args} src={getStaticImage('akenea_200.jpg')}>
            <Card.BadgeContainer>
              <Badge level="danger">0%</Badge>
            </Card.BadgeContainer>
            Card not complete
          </Card>
          <Card {...args} src={getStaticImage('akeneb_200.jpg')}>
            <Card.BadgeContainer>
              <Badge level="warning">50%</Badge>
            </Card.BadgeContainer>
            Card almost complete
          </Card>
          <Card {...args} src={getStaticImage('akenec_200.jpg')}>
            <Card.BadgeContainer>
              <Badge level="primary">100%</Badge>
            </Card.BadgeContainer>
            Card complete
          </Card>
        </CardGrid>
      );
    }}
  </Story>
</Canvas>

## With Links

<Canvas>
  <Story name="With Links">
    {args => {
      const [firstSelected, setFirstSelected] = useState(false);
      return (
        <CardGrid>
          <Card {...args} src={getStaticImage('akeneaa_200.jpg')}>
            <Link href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
              Card with Link
            </Link>
          </Card>
          <Card {...args} disabled={true} src={getStaticImage('akeneba_200.jpg')}>
            <Link href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
              Disabled Card with Link
            </Link>
          </Card>
          <Card
            {...args}
            isSelected={firstSelected}
            onSelect={isSelected => setFirstSelected(isSelected)}
            src={getStaticImage('akeneca_200.jpg')}
          >
            <Link href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
              Selectable Card with Link
            </Link>
          </Card>
          <Card
            {...args}
            disabled={true}
            isSelected={false}
            onSelect={() => {}}
            src={getStaticImage('akenecb_200.jpg')}
          >
            <Link href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
              Disabled selectable Card with Link
            </Link>
          </Card>
        </CardGrid>
      );
    }}
  </Story>
</Canvas>

## CardGrid

Here the `fit` prop is also set to `contain`.

<Canvas>
  <Story name="CardGrid">
    {args => {
      return (
        <CardGrid>
          {[...new Array(5)].map((_, index) => (
            <Card
              {...args}
              key={index}
              fit="contain"
              onClick={action('Clicked')}
              src={getStaticImage(`akeneo${index}_${index % 2 === 0 ? 200 : 120}_${
                index % 2 === 0 ? 120 : 200
              }.jpg`)}
            >
              Card {(index + 1).toString()}
            </Card>
          ))}
        </CardGrid>
      );
    }}
  </Story>
</Canvas>

## Big CardGrid

<Canvas>
  <Story name="Size">
    {args => {
      const [firstSelected, setFirstSelected] = useState(false);
      const [secondSelected, setSecondSelected] = useState(false);
      return (
        <CardGrid size="big">
          <Card {...args} src={getStaticImage('akened_200.jpg')}>
            This is a big Card
          </Card>
          <Card {...args} src={getStaticImage('akenee_200.jpg')}>
            <Card.BadgeContainer>
              <Badge level="primary">100%</Badge>
            </Card.BadgeContainer>
            This one even has a Badge
          </Card>
          <Card
            {...args}
            src={getStaticImage('akenef_200.jpg')}
            isSelected={firstSelected}
            onSelect={isSelected => setFirstSelected(isSelected)}
          >
            Selectable
          </Card>
          <Card
            {...args}
            src={getStaticImage('akeneg_200.jpg')}
            isSelected={secondSelected}
            onSelect={isSelected => setSecondSelected(isSelected)}
          >
            <Card.BadgeContainer>
              <Badge level="warning">75%</Badge>
            </Card.BadgeContainer>
            Badge &amp; selectable ðŸ¤©
          </Card>
        </CardGrid>
      );
    }}
  </Story>
</Canvas>

## Small Stack Cards

<Canvas>
  <Story name="SmallStackedCard">
    {args => {
      const [firstSelected, setFirstSelected] = useState(false);
      const [secondSelected, setSecondSelected] = useState(false);
      const [thirdSelected, setThirdSelected] = useState(false);
      return (
        <CardGrid size="small">
          <Card {...args} stacked src={getStaticImage('akenec_200.jpg')}>
            This is a small card
          </Card>
          <Card {...args} src={getStaticImage('akened_200.jpg')}>
            This is a small card not stacked
          </Card>
          <Card {...args} stacked src={getStaticImage('akenee_200.jpg')}>
            <Card.BadgeContainer>
              <Badge level="primary">100%</Badge>
            </Card.BadgeContainer>
            This one even has a Badge
          </Card>
          <Card
            {...args}
            src={getStaticImage('akenef_200.jpg')}
            isSelected={firstSelected}
            onSelect={isSelected => setFirstSelected(isSelected)}
            stacked
          >
            And this one is selectable
          </Card>
          <Card
            {...args}
            src={getStaticImage('akeneg_200.jpg')}
            isSelected={secondSelected}
            onSelect={isSelected => setSecondSelected(isSelected)}
            stacked
          >
            <Card.BadgeContainer>
              <Badge level="warning">75%</Badge>
            </Card.BadgeContainer>
            Badge &amp; selectable ðŸ¤©
          </Card>
          <Card
            {...args}
            src={getStaticImage('akeneh_200.jpg')}
            isSelected={thirdSelected}
            onSelect={isSelected => setThirdSelected(isSelected)}
          >
            <Card.BadgeContainer>
              <Badge level="warning">75%</Badge>
            </Card.BadgeContainer>
            Badge &amp; selectable ðŸ¤©
          </Card>
        </CardGrid>
      );
    }}
  </Story>
</Canvas>

## Big Stack Cards

<Canvas>
  <Story name="BigStackedCard">
    {args => {
      const [firstSelected, setFirstSelected] = useState(false);
      const [secondSelected, setSecondSelected] = useState(false);
      const [thirdSelected, setThirdSelected] = useState(false);
      return (
        <CardGrid size="big">
          <Card {...args} stacked src={getStaticImage('akenec_200.jpg')}>
            This is a big Card
          </Card>
          <Card {...args} src={getStaticImage('akened_200.jpg')}>
            This is a big Card not stacked
          </Card>
          <Card {...args} stacked src={getStaticImage('akenee_200.jpg')}>
            <Card.BadgeContainer>
              <Badge level="primary">100%</Badge>
            </Card.BadgeContainer>
            This one even has a Badge
          </Card>
          <Card
            {...args}
            src={getStaticImage('akenef_200.jpg')}
            isSelected={firstSelected}
            onSelect={isSelected => setFirstSelected(isSelected)}
            stacked
          >
            And this one is selectable
          </Card>
          <Card
            {...args}
            src={getStaticImage('akeneg_200.jpg')}
            isSelected={secondSelected}
            onSelect={isSelected => setSecondSelected(isSelected)}
            stacked
          >
            <Card.BadgeContainer>
              <Badge level="warning">75%</Badge>
            </Card.BadgeContainer>
            Badge &amp; selectable ðŸ¤©
          </Card>
          <Card
            {...args}
            src={getStaticImage('akeneh_200.jpg')}
            isSelected={thirdSelected}
            onSelect={isSelected => setThirdSelected(isSelected)}
          >
            <Card.BadgeContainer>
              <Badge level="warning">75%</Badge>
            </Card.BadgeContainer>
            Badge &amp; selectable ðŸ¤©
          </Card>
        </CardGrid>
      );
    }}
  </Story>
</Canvas>
